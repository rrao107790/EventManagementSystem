
@model EventManagementSystem.ViewModels.EventDetailsViewModel


@if (Model.Description != null)
{
    <p>Description: @Model.Description</p>
}
<div class="card bg-info comment-section">
    @if (Model.Comments.Any())
    {
        @: <h3>Comments:</h3>
           <ul class="comments">

               @foreach (var comment in Model.Comments)
               {

                   <li>
                       @comment.Text
                       @Html.ActionLink("Delete", "DeleteComment", "Home")
                   </li>
                   if (comment.Author != null)
                   {
                       @:- @comment.Author
                       @:<br /><br />
                   }
                   else
                   {
                       @:- Guest User
                       @:<br /><br />
                   }

               }
           </ul>
    }
    else
    {
        <p>No Comments here</p>
    }

</div>
<div class="form-group">
    <div id="event-details">
        @Ajax.ActionLink("Add Comment", "GetCommentSection", "Home",
       new { id = Model.Id }, new AjaxOptions() { UpdateTargetId = "event-details" })
    </div>
</div>
<div class="form-group">
    @if (ViewBag.CanEdit)
    {
        @Html.ActionLink("Edit", "Edit", "Events", new { id = Model.Id }, new { @class = "btn btn-default" })
        <span></span>
        @Html.ActionLink("Delete", "Delete", "Events", new { id = Model.Id }, new { @class = "btn btn-default" })
        <span></span>
    }
</div>

